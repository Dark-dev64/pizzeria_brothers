<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pizza Brothers - Registro</title>
  
  <!-- Importar CSS de forma modular -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/components/buttons.css">
  <link rel="stylesheet" href="/css/components/inputs.css">
  <link rel="stylesheet" href="/css/components/forms.css">
  <link rel="stylesheet" href="/css/pages/register.css">
  
  <!-- 칈conos Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

  <div class="particles" id="particles"></div>

  <div class="register-container fade-in-up">
    <div class="register-header">
      <div class="logo">
        <span>游꼣</span>
      </div>
      <h1>Crear Cuenta</h1>
      <p>칔nete a la familia Pizza Brothers</p>
    </div>
    
    <form class="register-form" id="registerForm" novalidate aria-labelledby="form-title">
      <h1 id="form-title" class="sr-only">Formulario de registro Pizza Brothers</h1>
      
      <!-- Nombre y Apellido -->
      <div class="form-row">
        <div class="form-group">
          <label for="nombre" class="required">
            <i class="fas fa-user label-icon"></i>
            Nombre
          </label>
          <div class="input-with-icon">
            <input type="text" id="nombre" name="nombre" placeholder="Tu nombre" required 
                   maxlength="50" aria-describedby="nombreError nombreCounter">
            <i class="fas fa-signature input-icon"></i>
          </div>
          <div class="char-counter" id="nombreCounter">0/50</div>
          <div class="error-message" id="nombreError" role="alert"></div>
        </div>
        <div class="form-group">
          <label for="apellido" class="required">
            <i class="fas fa-user-tag label-icon"></i>
            Apellido
          </label>
          <div class="input-with-icon">
            <input type="text" id="apellido" name="apellido" placeholder="Tu apellido" required
                   maxlength="50" aria-describedby="apellidoError apellidoCounter">
            <i class="fas fa-id-card input-icon"></i>
          </div>
          <div class="char-counter" id="apellidoCounter">0/50</div>
          <div class="error-message" id="apellidoError" role="alert"></div>
        </div>
      </div>
      
      <!-- Usuario -->
      <div class="form-group">
        <label for="username" class="required">
          <i class="fas fa-user-circle label-icon"></i>
          Nombre de Usuario
        </label>
        <div class="input-with-icon">
          <input type="text" id="username" name="username" placeholder="Crea tu nombre de usuario" required
                 maxlength="20" aria-describedby="usernameError usernameCounter"
                 pattern="[a-zA-Z0-9_]+" title="Solo letras, n칰meros y guiones bajos">
          <i class="fas fa-user input-icon"></i>
        </div>
        <div class="char-counter" id="usernameCounter">0/20</div>
        <div class="error-message" id="usernameError" role="alert"></div>
      </div>
      
      <!-- Email (opcional) -->
      <div class="form-group">
        <label for="email" class="optional">
          <i class="fas fa-envelope label-icon"></i>
          Correo Electr칩nico
        </label>
        <div class="input-with-icon">
          <input type="email" id="email" name="email" placeholder="ejemplo@correo.com"
                 aria-describedby="emailError">
          <i class="fas fa-at input-icon"></i>
        </div>
        <div class="error-message" id="emailError" role="alert"></div>
      </div>
      
      <!-- Contrase침a -->
      <div class="form-group">
        <label for="password" class="required">
          <i class="fas fa-lock label-icon"></i>
          Contrase침a
        </label>
        <div class="password-wrapper input-with-icon">
          <input type="password" id="password" name="password" placeholder="Crea una contrase침a segura" required
                 minlength="6" aria-describedby="passwordError passwordRequirements">
          <i class="fas fa-key input-icon"></i>
            <button type="button" class="toggle-password" data-target="password" 
                aria-label="Mostrar contrase침a" aria-controls="password" aria-pressed="false">
              <!-- SVG: ojo abierto / ojo cerrado (sin dependencias externas) -->
              <svg class="eye-open" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false">
                <path d="M12 5C7 5 2.73 8.11 1 12c1.73 3.89 6 7 11 7s9.27-3.11 11-7c-1.73-3.89-6-7-11-7zm0 12a5 5 0 110-10 5 5 0 010 10z" fill="none" stroke="#ffb84d" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="12" cy="12" r="2.5" fill="#ffb84d"/>
              </svg>
              <svg class="eye-closed" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false">
                <path d="M2 2l20 20" stroke="#ffb84d" stroke-width="1.8" stroke-linecap="round"/>
                <path d="M17.94 17.94A10.94 10.94 0 0112 19c-5 0-9.27-3.11-11-7 1.1-2.47 2.94-4.48 5.09-5.74" fill="none" stroke="#ffb84d" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
        </div>
        <div class="password-strength" id="passwordStrength">
          <div class="password-strength-fill" id="passwordStrengthFill"></div>
        </div>
        <div class="password-requirements">
          <small id="passwordRequirements">
            La contrase침a debe tener al menos 6 caracteres, incluyendo may칰sculas, min칰sculas y n칰meros.
          </small>
        </div>
        <div class="error-message" id="passwordError" role="alert"></div>
      </div>
      
      <!-- Confirmar Contrase침a -->
      <div class="form-group">
        <label for="confirmPassword" class="required">
          <i class="fas fa-lock label-icon"></i>
          Confirmar Contrase침a
        </label>
        <div class="password-wrapper input-with-icon">
          <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Repite tu contrase침a" required
                 minlength="6" aria-describedby="confirmPasswordError">
          <i class="fas fa-key input-icon"></i>
            <button type="button" class="toggle-password" data-target="confirmPassword"
                aria-label="Mostrar contrase침a" aria-controls="confirmPassword" aria-pressed="false">
              <svg class="eye-open" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false">
                <path d="M12 5C7 5 2.73 8.11 1 12c1.73 3.89 6 7 11 7s9.27-3.11 11-7c-1.73-3.89-6-7-11-7zm0 12a5 5 0 110-10 5 5 0 010 10z" fill="none" stroke="#ffb84d" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="12" cy="12" r="2.5" fill="#ffb84d"/>
              </svg>
              <svg class="eye-closed" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false">
                <path d="M2 2l20 20" stroke="#ffb84d" stroke-width="1.8" stroke-linecap="round"/>
                <path d="M17.94 17.94A10.94 10.94 0 0112 19c-5 0-9.27-3.11-11-7 1.1-2.47 2.94-4.48 5.09-5.74" fill="none" stroke="#ffb84d" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
        </div>
        <div class="error-message" id="confirmPasswordError" role="alert"></div>
      </div>
      
      <!-- Selecci칩n de Rol -->
      <div class="form-group">
        <label for="id_rol" class="required">
          <i class="fas fa-user-tie label-icon"></i>
          Tipo de Usuario
        </label>
        <div class="input-with-icon">
          <select id="id_rol" name="id_rol" required aria-describedby="id_rolError roleDescription">
            <option value="">Selecciona tu rol...</option>
            <!-- Los roles se cargar치n din치micamente desde la API -->
          </select>
          <i class="fas fa-briefcase input-icon"></i>
        </div>
        <div class="error-message" id="id_rolError" role="alert"></div>
        <!-- Descripci칩n del rol -->
        <div class="role-description" id="roleDescription" role="status">
          Selecciona un rol para ver su descripci칩n
        </div>
      </div>
      
      <button type="submit" class="btn-register" aria-label="Crear nueva cuenta">
        <i class="fas fa-user-plus"></i>
        Crear Cuenta
      </button>
      
      <div class="form-links">
        <a href="/login">
          <i class="fas fa-sign-in-alt"></i>
          쯏a tienes cuenta? Inicia Sesi칩n
        </a>
      </div>
    </form>
  </div>

  <!-- Importar JavaScript de forma modular -->
  <script type="module" src="/js/pages/register.js"></script>
</body>
</html>